\begin{figure}[t]
  \centering
  \begin{tikzpicture}
  \begin{axis}[
    xmode=linear,  ymode=linear,
    width=.53\linewidth, height=.47\linewidth,
    grid=major,
    %scale only axis,
    ymax=3600 ,xmax=64, xmin=1, ymin=0.05,
    xtick distance=8, ytick distance=600,
    ylabel = {\footnotesize{Time (s)}},
    xlabel = {\footnotesize{}{Instances solved}},
    tick label style = {font=\scriptsize},
    % legend columns=3, 
    % legend style={
    %   anchor=north,
    %   at={(.5,-.2)},
    %   %draw=none,
    %   /tikz/column 2/.style={
    %     column sep=2ex
    %   },
    %   /tikz/column 4/.style={
    %     column sep=2ex
    %   }
    % },
    legend style={
      anchor=west,
      at={(1.05,.5)}
    },
    cycle list/Dark2-8,
    cycle multi list={Dark2-8}  % plot colors
  ]
  
    \addplot+[line width=.7pt, mark=square*, mark size=1.2] table [x=ranking, y=time, col sep=comma] {data/ranking_lines.csv};
    \addlegendentry{\footnotesize Line-based};
    
    \addplot+[line width=.7pt, mark=+] table [x=ranking, y=time, col sep=comma] {data/ranking_ktree.csv};
    \addlegendentry{\footnotesize \(k\)-tree};
    
    \addplot+[line width=.7pt, mark=diamond*] table [x=ranking, y=time, col sep=comma] {data/ranking_dynamic.csv};
    \addlegendentry{\footnotesize Dynamic multi-tree};
    
    \addplot+[line width=.7pt, mark=x] table [x=ranking, y=time, col sep=comma] {data/ranking_regel_no_sketches.csv};
    \addlegendentry{\footnotesize \Regel PBE};
    
    \addplot+[line width=.7pt, mark=otimes*, mark size=1.2] table [x=ranking, y=time, col sep=comma] {data/ranking_nopruning.csv};
    \addlegendentry{\footnotesize Multi-tree w/o pruning};
    
    \addplot+[line width=.7pt, mark=asterisk] table [x=ranking, y=time, col sep=comma] {data/ranking_regel_skcomp.csv};
    \addlegendentry{\footnotesize \Regel};
  
    \addplot+[line width=.7pt, mark=triangle*, mark size=1.5] table [x=ranking, y=time, col sep=comma] {data/ranking_forest.csv};
    \addlegendentry{\footnotesize \Forest};

    \addplot+[line width=.7pt, mark=Mercedes star] table [x=ranking, y=time, col sep=comma] {data/ranking_forest_first_regex.csv};
    \addlegendentry{\footnotesize \Forest's \nth{1} regex};
  
\end{axis}
\end{tikzpicture}
\captionsetup{belowskip=-.7em}
\caption{Instances solved using different methods}
\label{fig:comparison_all_methods}
\end{figure}